<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>GET THE $BAG</title>

<!-- SEO -->
<meta name="description" content="Utility on Chain. Culture on Brand. XRPLâ€™s heaviest meme. Official $BAG token. 1T supply. Powered by XRP.">
<meta name="keywords" content="BAG,$BAG,XRPL,XRP Ledger,crypto,meme coin,BAG token,getthebag.io">

<!-- Open Graph / Twitter -->
<meta property="og:title" content="GET THE $BAG">
<meta property="og:description" content="Utility on Chain. Culture on Brand. XRPLâ€™s heaviest meme. Official $BAG token.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://getthebag.io/">
<meta property="og:site_name" content="$BAG">
<meta property="og:image" content="https://getthebag.io/assets/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="GET THE $BAG">
<meta name="twitter:description" content="Utility on Chain. Culture on Brand. XRPLâ€™s heaviest meme. Official $BAG token.">
<meta name="twitter:image" content="https://getthebag.io/assets/logo.png">

<!-- Icons / PWA -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="/assets/favicon-48x48.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon-180x180.png">
<link rel="manifest" href="/assets/site.webmanifest">
<meta name="theme-color" content="#0c1a12">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="$BAG">

<link rel="preconnect" href="https://api.coingecko.com" crossorigin>
<script src="https://xaman.app/assets/cdn/xumm.min.js"></script>

<style>
/* (your CSS unchanged) */
.practice-banner{
  display:none;
  text-align:center;
  margin:12px auto 10px;
  max-width:1080px;
}
.practice-banner .card{
  display:inline-block;
  padding:8px 12px;
  border-radius:10px;
  background:#0b2217;
  color:#e9efe9;
  border:1px solid #2b6a48;
  font:700 12px/1.3 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  letter-spacing:.3px;
}
.practice-banner .card br{
  display:block;
  margin:2px 0;
  content:"";
}
</style>
</head>
<body>

<header class="hero">
  <img src="/assets/logo.png" alt="$BAG Logo" class="hero-img" />
  <h1>ðŸ’¼ GET THE $BAG</h1>
  <p class="tagline">XRPL's Heaviest Meme. 1T Supply. Meme-Built. Max Flex.</p>
</header>

<section class="game-header">
  <img src="/assets/bag-dice.png" alt="$BAG Dice" class="hero-img">
  <h2>ðŸŽ² $BAG Dice (Craps)</h2>
  <p class="micro" style="margin-top:4px;opacity:.9;">
    ðŸ’° <strong>All payouts are in $BAG.</strong> XRP bets convert automatically at the live rate.
  </p>
</section>

<!-- PRACTICE MODE banner centered -->
<div id="practiceBanner" class="practice-banner">
  <div class="card">
    PRACTICE MODE â€” No real bets or payouts<br>Connect wallet to play live
  </div>
</div>

<section class="game-teaser">
  <div class="panel mock" id="bagDiceDemo">
    <div id="connectRow" style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap;gap:8px;">
      <div id="connectStatus" class="micro" style="opacity:.9">Wallet: <span style="color:#e8a85c">not connected</span></div>
      <div style="display:flex;gap:8px;">
        <button id="practiceToggle"
          style="padding:8px 12px;font-weight:800;border:1px solid #2b6a48;border-radius:10px;background:#0b2217;color:#dfe9e2;cursor:pointer;">
          Practice: OFF
        </button>
        <button id="connectBtn"
          style="padding:10px 14px;font-weight:800;border:0;border-radius:12px;
                 color:#08130d;background:linear-gradient(180deg,#ffe175 0%, #f5c94c 100%);
                 box-shadow:0 4px 0 #b08a19;cursor:pointer;">
          Connect Xaman
        </button>
      </div>
    </div>

    <button id="rollBtn" class="btn-roll">Roll</button>
    <div class="dice-area">
      <div class="cube" id="dieA"></div>
      <div class="cube" id="dieB"></div>
    </div>
  </div>
</section>

<!-- Service worker (cache-busted) -->
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/service-worker.js?v=2').catch(()=>{});
}
</script>

<!-- PRACTICE MODE logic -->
<script>
(function(){
  const qs = new URLSearchParams(location.search);
  const inPractice =
    location.pathname.toLowerCase().includes('/demo') ||
    qs.get('demo') === '1' ||
    localStorage.getItem('bag_practice_v1') === '1';

  if (inPractice) window.__BAG_PRACTICE = true;

  const banner = document.getElementById('practiceBanner');
  const toggle = document.getElementById('practiceToggle');
  if (banner) banner.style.display = inPractice ? 'block' : 'none';

  if (toggle) {
    toggle.textContent = inPractice ? 'Practice: ON' : 'Practice: OFF';
    toggle.addEventListener('click', () => {
      const next = !inPractice;
      localStorage.setItem('bag_practice_v1', next ? '1' : '0');
      const url = new URL(location.href);
      if (next) url.searchParams.set('demo','1'); else url.searchParams.delete('demo');
      location.href = url.toString();
    });
  }

  // Basic dice roll animation for demo
  const rollBtn = document.getElementById('rollBtn');
  const dice = [document.getElementById('dieA'), document.getElementById('dieB')];
  function rollDice(){
    dice.forEach(cube=>{
      cube.classList.add('rolling');
      setTimeout(()=>cube.classList.remove('rolling'),900);
    });
  }
  if (rollBtn) {
    rollBtn.addEventListener('click', ()=>{
      if (inPractice) rollDice();
      else alert('Connect wallet to play live.');
    });
  }
})();
</script>

</body>
</html>
