/* $BAG — Universal Game Frame (Dice-perfect styles) */
*{box-sizing:border-box}
:root{
  --gold:#ffe175;--bg:#020703;--panel:#0b1b13;--panel2:#0d2217;--muted:#aeb7af;--fg:#f5f7f4;
  --green:#2fbf6b;--green-600:#249a55;--line:#173524;--shadow:rgba(0,0,0,.35);
  --win-bg:rgba(10,12,16,.70); --lose:#e25b5b; --warn:#e8a85c;
}
html,body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
img{display:block;max-width:100%;height:auto} button,input{font-size:16px}
a[x-apple-data-detectors]{color:inherit !important;text-decoration:none !important;pointer-events:none !important;cursor:default !important}

/* Back link */
.back-casino{
  position:fixed;top:18px;left:18px;z-index:1000;background:linear-gradient(180deg,#ffe175 0%,#f5c94c 100%);
  color:#08130d;text-decoration:none;font-weight:800;padding:8px 14px;border-radius:10px;box-shadow:0 4px 0 #b08a19;transition:all .15s ease
}
.back-casino:hover{filter:brightness(1.05);box-shadow:0 4px 0 #b08a19,0 14px 28px rgba(255,225,117,.22)}
.back-casino:active{transform:translateY(1px);box-shadow:0 3px 0 #9a7315}

/* Header */
.game-header{text-align:center;padding:36px 10px 14px}
.game-header img.hero-img{margin:0 auto 10px;filter:drop-shadow(0 10px 24px rgba(46,191,107,.18))}
.game-header h2{font-size:clamp(1.6rem,5vw,2.2rem);margin:6px 0 0}
@media (min-width:900px){ .game-header img.hero-img{width:34vw;max-width:420px;margin-left:auto;margin-right:auto} }

/* Teaser + grid */
.game-teaser{padding:10px 16px 60px;background:
  radial-gradient(1200px 600px at 10% -10%, #0e2c1d 0%, transparent 60%),
  radial-gradient(900px 500px at 110% 20%, #0b2318 0%, transparent 55%),#060806;
  border-top:1px solid #131313;border-bottom:1px solid #131313}
.game-wrap{max-width:1080px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:22px}
.panel{background:linear-gradient(180deg,var(--panel) 0%,var(--panel2) 100%);border:1px solid var(--line);border-radius:16px;box-shadow:0 8px 24px var(--shadow)}
.pad{padding:16px}

.section-title{font-weight:800;font-size:1.2rem;margin:0 0 12px}
.stake-box{padding:14px}
.stack{display:grid;gap:10px}
.choice{display:flex;gap:10px;flex-wrap:wrap}
.chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid #2b6a48;background:#0e2a1c;color:#e9efe9;font-weight:800}
.chip input{accent-color:#2fbf6b}
.mono{font-variant-numeric:tabular-nums}
.micro{font-size:.85rem;color:#a8b5ab}
.muted{color:#cfd6cf}
.divider{height:1px;background:#123221;margin:10px 0}
.callout{margin-top:12px;padding:12px;border:1px dashed #29543d;border-radius:12px;background:#0c2418;color:#e4efe7}

#liveDot{margin-right:6px}.ok{color:#2fbf6b}.warn{color:#e8a85c}.err{color:var(--lose)}

.table{background:#07140e;border:1px solid #1b4a2f;border-radius:14px;padding:14px}
.felt{display:grid;grid-template-columns:1fr;gap:12px;background:#091a13;border:1px solid #24533a;border-radius:12px;padding:12px;overflow:hidden}
.marquee{text-align:center;font-weight:900;letter-spacing:.08em;color:#ffe9a6;background:linear-gradient(180deg,#17311f,#0e2419);
  border:1px solid #254a33;border-radius:12px;padding:8px}

/* Stage region for each game’s unique elements */
.stage-slot{min-height:220px;position:relative;border-radius:10px;overflow:hidden}

/* Roll/Spin/Deal primary button (shared) */
.btn-primary{
  width:min(360px,90%);padding:16px 22px;margin:2px auto 0;font-size:1.15rem;font-weight:900;text-transform:uppercase;letter-spacing:.5px;border:0;border-radius:14px;
  color:#08130d;background:linear-gradient(180deg,#ffe175 0%, #f5c94c 100%);
  box-shadow:0 6px 0 #b08a19, 0 16px 32px rgba(255,225,117,.18), inset 0 1px 0 rgba(255,255,255,.35);
  transition:transform .06s ease, box-shadow .2s ease, filter .2s ease; cursor:pointer; display:block; text-align:center
}
.btn-primary:active{transform:translateY(2px);box-shadow:0 4px 0 #9a7315,0 12px 24px rgba(255,225,117,.2), inset 0 1px 0 rgba(255,255,255,.3)}
.btn-primary:disabled{opacity:.65;cursor:not-allowed}

/* Results + HUD */
.result{margin-top:10px;padding:12px;border:1px solid #1b4a2f;border-radius:12px;background:#0b2217;display:flex;align-items:center;gap:10px}
.t.win{color:#2fbf6b}.t.scratch{color:#e8a85c}.t.lose{color:var(--lose)}

.hudbar{display:grid;grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));gap:6px;align-items:center;margin:6px 2px 0}
.pill{background:#0a1e15;border:1px solid #244330;border-radius:999px;padding:6px 10px;font-size:12px;color:#cfe6d8}
.hudbar .pill b{font-weight:800}
.hudbar .pill.balance{grid-column:1/-1;font-size:14px;padding:8px 12px;font-weight:800}

.preset-chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.preset-chip{
  appearance:none;border:1px solid var(--green-600);background:var(--green);color:#fff;border-radius:999px;padding:8px 12px;font-weight:900;letter-spacing:.2px;cursor:pointer;
  box-shadow:0 4px 10px rgba(47,191,107,.18), inset 0 1px 0 rgba(255,255,255,.12);
  transition:transform .06s ease, box-shadow .2s ease, filter .2s ease;
}
.preset-chip:hover{filter:brightness(1.03)}
.preset-chip:active{transform:translateY(1px);box-shadow:0 3px 8px rgba(47,191,107,.16), inset 0 1px 0 rgba(255,255,255,.1)}
.preset-chip:focus-visible{outline:2px solid #ffffff;outline-offset:2px}
.preset-chip.active{box-shadow:0 0 0 2px rgba(255,255,255,.25) inset, 0 8px 22px rgba(47,191,107,.25)}

/* Win readout panel */
#bag-win-readout{background:var(--panel2);border:1px solid var(--line);border-radius:14px;padding:16px;box-shadow:0 10px 24px var(--shadow);color:var(--fg)}
#bag-win-readout .row{display:flex;justify-content:space-between;gap:12px;margin:8px 0}
#bag-win-readout .title{font-weight:800;letter-spacing:.2px}
#bag-win-readout .muted{color:var(--muted)}
#bag-win-readout .note{color:var(--muted);font-size:.92rem;margin-top:10px;line-height:1.45}

/* Rules pill */
.rules-fab{position:fixed;right:16px;bottom:16px;z-index:1000;padding:10px 14px;border-radius:999px;font-weight:800;border:1px solid #2b6a48;background:#0e2a1c;color:#e9efe9;box-shadow:0 8px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06);cursor:pointer}
.rules-fab:hover{filter:brightness(1.05)} .rules-fab:active{transform:translateY(1px)}
.rules-overlay{position:fixed;inset:0;display:none;place-items:center;z-index:3000;backdrop-filter:blur(6px);background:rgba(0,0,0,.45);padding:18px}
.rules-modal{width:min(680px,92vw);max-height:min(78vh,840px);overflow:auto;background:linear-gradient(180deg,var(--panel) 0%, var(--panel2) 100%);border:1px solid var(--line);border-radius:16px;box-shadow:0 24px 60px var(--shadow);color:#fg;padding:18px;position:relative}
.rules-modal h3{margin:0 0 10px} .rules-modal ul{margin:10px 0;padding-left:20px} .rules-modal .rules-note{margin-top:10px;color:var(--muted)}
.rules-close{position:absolute;top:8px;right:12px;border:0;background:transparent;color:#e9efe9;font-size:24px;line-height:1;cursor:pointer}
