<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>GET THE $BAG ‚Äî TESTINDEX</title>

<!-- ======= BUILD FLAG (visible + console) ======= -->
<script>
  window.BAG_BUILD = "TESTINDEX v2025-10-28-IRON";
  console.log("%c$BAG BUILD => " + window.BAG_BUILD, "background:#222;color:#ffe175;padding:4px 8px;border-radius:4px");
</script>

<!-- ======= HARD BAN: legacy audio (runs FIRST, in <head>) ======= -->
<script>
(function(){
  const BAN = "here-come-the-money.mp3";
  // 1) Kill any media element that tries to play the banned file
  document.addEventListener('play', (e) => {
    const m = e.target;
    if (!(m instanceof HTMLMediaElement)) return;
    const s = (m.currentSrc || m.src || "");
    if (s.includes(BAN)) { try{ m.pause(); m.currentTime = 0; }catch(_){} console.warn("[BAG] BLOCKED legacy audio:", s); }
  }, true);
  // 2) Patch Audio constructor
  const NativeAudio = window.Audio;
  function PatchedAudio(src){ if (src && (""+src).includes(BAN)) src = ""; const a = src? new NativeAudio(src):new NativeAudio(); a.playsInline = true; return a; }
  PatchedAudio.prototype = NativeAudio.prototype; window.Audio = PatchedAudio;
  // 3) Patch HTMLMediaElement.src setter
  const d = Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, "src");
  if (d && d.set){ const orig = d.set; d.set = function(v){ if (v && (""+v).includes(BAN)) v=""; return orig.call(this, v); }; Object.defineProperty(HTMLMediaElement.prototype,"src",d); }
  // 4) Patch play() as last resort
  const _play = HTMLMediaElement.prototype.play;
  HTMLMediaElement.prototype.play = function(){ try{ const s = this.currentSrc||this.src||""; if (s.includes(BAN)) { this.pause(); this.currentTime=0; return Promise.resolve(); } }catch(_){ } return _play.apply(this, arguments); };
})();
</script>

<!-- SEO -->
<meta name="description" content="Utility on Chain. Culture on Brand. XRPL‚Äôs heaviest meme. Official $BAG token. 1T supply. Powered by $XRP.">
<meta name="keywords" content="BAG,$BAG,XRPL,XRP Ledger,crypto,meme coin,BAG token,getthebag.io">

<!-- Open Graph / Twitter -->
<meta property="og:title" content="GET THE $BAG">
<meta property="og:description" content="Utility on Chain. Culture on Brand. XRPL‚Äôs heaviest meme. Official $BAG token.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://getthebag.io/testindex.html">
<meta property="og:site_name" content="$BAG">
<meta property="og:image" content="https://getthebag.io/assets/logo-512.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="GET THE $BAG">
<meta name="twitter:description" content="Utility on Chain. Culture on Brand. XRPL‚Äôs heaviest meme. Official $BAG token.">
<meta name="twitter:image" content="https://getthebag.io/assets/logo-512.png">

<!-- PWA / Icons -->
<link rel="manifest" href="/assets/site.v2.webmanifest?v=iron">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="/assets/favicon-48x48.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon-180x180.png">
<meta name="theme-color" content="#0c1a12">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="$BAG">

<!-- Perf -->
<link rel="preconnect" href="https://api.coingecko.com" crossorigin>

<style>
  *{box-sizing:border-box}
  :root{--gold:#ffd700;--bg:#020703;--panel:#0b1b13;--panel2:#0d2217;--muted:#aeb7af;--fg:#f5f7f4;
        --green:#2fbf6b;--green2:#34c759;--line:#173524;--shadow:rgba(0,0,0,.35);--red:#e25b5b;--content:1200px;}
  html,body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
  img{display:block;max-width:100%;height:auto}
  .hero,.verify,.utility,.casino-banner,.litepaper-wrap,.legal-disclaimer,footer{max-width:var(--content);margin:0 auto;padding:0 16px}
  .hero{text-align:center;padding:6vh 5vw 2vh}
  .hero-img{width:clamp(160px,22vw,280px);margin:0 auto 18px}
  h1{font-size:clamp(1.8rem,6vw,3rem);margin:0 0 10px}
  .tagline{font-size:clamp(1rem,4vw,1.2rem);color:var(--muted);margin:0 0 6px;padding:0 10px}
  .social{text-align:center;margin-top:14px}
  .social img{width:40px;height:40px}
  .verify{margin-top:8px;font-size:.95rem;text-align:center}
  .utility{text-align:center;padding:2vh 5vw 6vh}
  .buy-section{background:#0b0b0c;color:#fff;padding:56px 20px;text-align:center;border-top:1px solid #141414;border-bottom:1px solid #141414}
  .btn-buy{display:inline-block;margin:4px;padding:14px 26px;font-size:1.15rem;font-weight:800;color:#020703;background:linear-gradient(180deg,#ffe175 0%, #f5c94c 100%);border-radius:28px;text-decoration:none}
  .casino-banner{text-align:center;padding:10px 10px 0}
  .casino-banner img{margin:0 auto 20px;width:100%;max-width:960px;border-radius:12px;box-shadow:0 6px 24px rgba(0,0,0,.4)}
  .casino-callout{max-width:900px;margin:0 auto 14px;line-height:1.25}
  .casino-callout .line1{color:var(--gold);font-weight:900;letter-spacing:.12em}
  .casino-callout .line2{color:#e9efe9;opacity:.9;margin-top:6px;font-family:"Cinzel",serif;font-weight:700;letter-spacing:.14em}
  .vault-break{text-align:center;color:var(--gold);font-weight:900;letter-spacing:.12em;margin:22px auto 28px;font-size:1rem;opacity:.85;position:relative}
  .vault-break::before,.vault-break::after{content:"";display:inline-block;vertical-align:middle;width:60px;height:2px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:0 12px;opacity:.7}
  footer.footer{text-align:center;padding:12px 0 32px;line-height:1.6}
  #buildFlag{position:fixed;bottom:8px;right:8px;background:#111;color:#ffe175;font-weight:800;padding:6px 10px;border-radius:8px;opacity:.9;font-size:12px}
</style>
</head>
<body>

<div id="buildFlag">BUILD: <span id="bf"></span></div>
<script>document.getElementById('bf').textContent = window.BAG_BUILD;</script>

<header class="hero">
  <picture>
    <source type="image/webp" srcset="/assets/logo-256.webp 256w, /assets/logo-512.webp 512w">
    <img src="/assets/logo-512.png" alt="$BAG Logo" class="hero-img" width="512" height="512" fetchpriority="high" decoding="async">
  </picture>
  <h1>üíº GET THE $BAG</h1>
  <p class="tagline">XRPL's Heaviest Meme. 1T Supply. Meme-Built. Max Flex.</p>
  <p style="text-align:center;margin-top:8px;"><strong>Token:</strong> <span style="color:#ffd700;font-size:1.2em;font-weight:700;">$BAG</span> ‚Äî <strong>Issuer:</strong> <span style="color:#ffea8a;">rNeYbfb9EDV8c7mNfUuooEEYYzMcEuDFbr</span></p>
</header>

<div class="social">
  <a href="https://x.com/getthebag_io" target="_blank" rel="noopener"><img src="/assets/x.png" alt="X"></a>
  <a href="https://t.me/getthebag_io" target="_blank" rel="noopener"><img src="/assets/telegram.png" alt="Telegram"></a>
  <a href="https://t.me/bagxchange" target="_blank" rel="noopener" title="$BAG XCHANGE" style="font-size:40px;vertical-align:middle;line-height:0;text-decoration:none;">üí¨</a>
</div>

<div class="verify">
  üîç Verify on:
  <a href="https://bithomp.com/en/token/rNeYbfb9EDV8c7mNfUuooEEYYzMcEuDFbr/BAG" target="_blank" rel="noopener">Bithomp</a> |
  <a href="https://xrpscan.com/account/rNeYbfb9EDV8c7mNfUuooEEYYzMcEuDFbr" target="_blank" rel="noopener">XRPSCAN</a> |
  <a href="https://xrplmeta.org/token/rNeYbfb9EDV8c7mNfUuooEEYYzMcEuDFbr" target="_blank" rel="noopener">XRPLMeta</a>
</div>

<section class="utility">
  <h2>Utility on Chain. Culture on Brand.</h2>
  <p>Wrapped in Meme. Powered by $XRP.</p>
  <p>‚ö° Instant Transfers</p>
  <p>üí∏ Low Fees</p>
  <p>üîí Decentralized Trust</p>
  <p>$BAG inherits the utility of $XRP through XRPL.</p>
</section>

<section class="buy-section">
  <div class="inner">
    <h2>$BAG is Live</h2>
    <p>Trade instantly on the XRPL DEX</p>
    <a class="btn-buy" target="_blank" rel="noopener"
       href="https://xmagnetic.org/swap/BAG+rNeYbfb9EDV8c7mNfUuooEEYYzMcEuDFbr_XRP+XRP?network=mainnet">üöÄ Buy $BAG on Magnetic</a>
  </div>
</section>

<!-- Casino banner -->
<div class="casino-banner">
  <div class="casino-callout">
    <div class="line1">PLAY IN $XRP OR $BAG</div>
    <div class="line2">UTILITY. RISK. REWARD.</div>
  </div>
  <a href="/casino/" aria-label="Open $BAG Casino">
    <img id="bag-casino-img" src="/assets/bag-casino-1024.png" alt="$BAG Casino" width="1024" height="683" loading="lazy" decoding="async">
  </a>
  <div class="vault-break"><a href="/casino/">ENTER THE CASINO</a></div>
</div>

<div class="litepaper-wrap">
  <a class="btn-litepaper" target="_blank" rel="noopener" href="https://github.com/bagtoken/bagtoken/blob/0edf4607121b2012e318d1b4d5544266260494a2/litepaper.md">üìÑ View Lite Paper</a>
</div>

<div class="legal-disclaimer">
  <h3>Legal Disclaimer</h3>
  <p>$BAG is an independent community-driven token built on the $XRP Ledger (XRPL). It is <strong>not affiliated with, endorsed by, or associated with</strong> Ripple Labs Inc., the $XRP Ledger Foundation, or any related entities.</p>
</div>

<footer class="footer">
  ¬© 2025 $BAG Protocol | getthebag.io | Powered by $XRP ‚Äî <strong id="bf2"></strong>
</footer>
<script>document.getElementById('bf2').textContent = window.BAG_BUILD;</script>

<!-- NO service worker while debugging -->
<!-- (Intentionally omitted) -->

<!-- ======= SFX: play casinomusic when banner is visible after a tap ======= -->
<script>
(function(){
  const SRC = "/assets/sounds/casinomusic.mp3?v=iron";
  const img = document.getElementById("bag-casino-img");
  const sfx = new Audio(); sfx.preload="auto"; sfx.playsInline=true; sfx.src = SRC;

  let unlocked=false;
  const unlock = async ()=>{ if(unlocked) return; try{ sfx.muted=true; await sfx.play(); sfx.pause(); sfx.currentTime=0; sfx.muted=false; unlocked=true; cleanup(); }catch(_){} };
  function cleanup(){ ["pointerdown","keydown","touchstart"].forEach(t=>window.removeEventListener(t,unlock,{capture:true})); }
  ["pointerdown","keydown","touchstart"].forEach(t=>window.addEventListener(t,unlock,{capture:true,passive:true}));

  const THRESH=0.6, GAP=1500; let last=0, seen=false;
  async function play(){ if(!unlocked) return; const now=performance.now(); if(now-last<GAP) return; try{ sfx.currentTime=0; await sfx.play(); last=now; console.log("[BAG] casinomusic PLAY"); }catch(e){ console.log("[BAG] play blocked", e&&e.name); } }
  new IntersectionObserver((ents)=>{ for(const e of ents){ if(e.target!==img) continue; if(e.isIntersecting && e.intersectionRatio>=THRESH){ if(!seen){seen=true; play();} } else { seen=false; } } }, {threshold:THRESH}).observe(img);
})();
</script>
</body>
</html>
