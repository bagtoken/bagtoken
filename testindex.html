<!DOCTYPE html>
<!-- BUILD: BAG CF-BREAK v2025-10-28-IRON -->
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="Cache-Control" content="no-store, max-age=0" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>GET THE $BAG ‚Äî CF Break</title>

<!-- SEO -->
<meta name="description" content="Utility on Chain. Culture on Brand. XRPL‚Äôs heaviest meme. Official $BAG token. 1T supply. Powered by $XRP.">
<meta name="keywords" content="BAG,$BAG,XRPL,XRP Ledger,crypto,meme coin,BAG token,getthebag.io">

<!-- Open Graph / Twitter -->
<meta property="og:title" content="GET THE $BAG">
<meta property="og:description" content="Utility on Chain. Culture on Brand. XRPL‚Äôs heaviest meme. Official $BAG token.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://getthebag.io/">
<meta property="og:site_name" content="$BAG">
<meta property="og:image" content="https://getthebag.io/assets/logo-512.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="GET THE $BAG">
<meta name="twitter:description" content="Utility on Chain. Culture on Brand. XRPL‚Äôs heaviest meme. Official $BAG token.">
<meta name="twitter:image" content="https://getthebag.io/assets/logo-512.png">

<!-- Icons / PWA -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="/assets/favicon-48x48.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon-180x180.png">
<link rel="manifest" href="/assets/site.v3.webmanifest"> <!-- NEW NAME -->

<meta name="theme-color" content="#0c1a12">
<meta name="mobile-web-app-capable" content="yes"> <!-- modern replacement -->

<!-- Perf -->
<link rel="preconnect" href="https://api.coingecko.com" crossorigin>

<!-- Preload NEW audio path (renamed file) -->
<link rel="preload" href="/assets/sounds/casinomusic-IRON.mp3" as="audio" />

<style>
  *{box-sizing:border-box}
  :root{--gold:#ffd700;--bg:#020703;--panel:#0b1b13;--panel2:#0d2217;--muted:#aeb7af;--fg:#f5f7f4;--content:1200px}
  html,body{margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
  img{display:block;max-width:100%;height:auto}
  .hero,.verify,.utility,.casino-banner,.litepaper-wrap,.legal-disclaimer,footer{max-width:var(--content);margin:0 auto;padding:0 16px}
  .hero{text-align:center;padding:6vh 5vw 2vh}
  .hero-img{width:clamp(160px,22vw,280px);margin:0 auto 18px}
  h1{font-size:clamp(1.8rem,6vw,3rem);margin:0 0 10px}
  .tagline{font-size:clamp(1rem,4vw,1.2rem);color:var(--muted);margin:0 0 6px;padding:0 10px}
  .casino-banner{ text-align:center; padding: 10px 10px 0; }
  .casino-banner img{ display:block; margin:0 auto 20px; width:100%; max-width:960px; border-radius:12px; box-shadow:0 6px 24px rgba(0,0,0,.4);}
  .vault-break{text-align:center;color:var(--gold);font-weight:900;letter-spacing:.12em;margin:22px auto 28px;font-size:1rem;opacity:.85}
  .litepaper-wrap{text-align:center;margin:40px 0 20px}
  .btn-litepaper{display:inline-block;padding:10px 18px;font-weight:700;color:#000;background:var(--gold);border-radius:18px;text-decoration:none}
  .legal-disclaimer{max-width:900px;margin:34px auto 0;padding:18px 16px 8px;border-top:1px solid #222;border-bottom:1px solid #222;font-size:.82rem;color:#aaa;text-align:center;line-height:1.45}
  footer{text-align:center;padding:12px 0 32px;line-height:1.6}
</style>

<!-- 0) SW + Cache KILL SWITCH (runs first) -->
<script>
(async () => {
  try {
    if ('serviceWorker' in navigator) {
      const regs = await navigator.serviceWorker.getRegistrations();
      await Promise.all(regs.map(r => r.unregister()));
      // Tell any controlled pages to reload clean
      if (navigator.serviceWorker.controller) navigator.serviceWorker.controller.postMessage({type:'BAG_SW_KILL'});
    }
    if ('caches' in window) {
      const keys = await caches.keys();
      await Promise.all(keys.map(k => caches.delete(k)));
    }
    // Hard-ban legacy track anywhere on page
    const BAN="here-come-the-money.mp3";
    document.addEventListener('play', e=>{
      const m=e.target; if(!(m instanceof HTMLMediaElement)) return;
      const s=(m.currentSrc||m.src||""); if(s.includes(BAN)){ try{m.pause();m.currentTime=0;}catch(_){ } }
    }, true);
  } catch(_) {}
})();
</script>
</head>
<body>

<header class="hero">
  <picture>
    <source type="image/webp" srcset="/assets/logo-256.webp 256w, /assets/logo-512.webp 512w" sizes="(min-width:1200px) 280px, (max-width:480px) 66vw, 22vw">
    <img src="/assets/logo-512.png" srcset="/assets/logo-256.png 256w, /assets/logo-512.png 512w" sizes="(min-width:1200px) 280px, (max-width:480px) 66vw, 22vw" alt="$BAG Logo" class="hero-img" width="512" height="512" fetchpriority="high" decoding="async">
  </picture>
  <h1>üíº GET THE $BAG</h1>
  <p class="tagline">XRPL's Heaviest Meme. 1T Supply. Meme-Built. Max Flex.</p>
</header>

<!-- Casino banner -->
<div class="casino-banner">
  <a href="/casino/" aria-label="Open $BAG Casino">
    <img id="bag-casino-img" src="/assets/bag-casino-1024.png" alt="$BAG Casino" width="1024" height="683" loading="lazy" decoding="async">
  </a>
  <div class="vault-break"><a href="/casino/" style="color:inherit;text-decoration:none">ENTER THE CASINO</a></div>
</div>

<div class="litepaper-wrap">
  <a class="btn-litepaper" target="_blank" rel="noopener" href="https://github.com/bagtoken/bagtoken/blob/0edf4607121b2012e318d1b4d5544266260494a2/litepaper.md">üìÑ View Lite Paper</a>
</div>

<div class="legal-disclaimer">
  <h3>Legal Disclaimer</h3>
  <p>$BAG is an independent community-driven token on XRPL. Not affiliated with Ripple Labs, the XRPL Foundation, or related entities.</p>
</div>

<footer>
  ¬© 2025 $BAG Protocol | getthebag.io | Powered by $XRP
  <br>
  <a href="https://x.com/getthebag_io" target="_blank" rel="noopener" style="color:#e0c66f;text-decoration:none;font-weight:700;">ùïè @getthebag_io</a> |
  <a href="https://t.me/getthebag_io" target="_blank" rel="noopener" style="color:#e0c66f;text-decoration:none;font-weight:700;">Telegram @getthebag_io</a>
</footer>

<!-- DO NOT register service worker while debugging -->
<!-- <script>navigator.serviceWorker.register('/service-worker.js')</script> -->

<!-- 1) Clean SFX (renamed file, gesture unlock, intersection trigger) -->
<script>
(function(){
  const IMG_ID   = 'bag-casino-img';
  const SRC      = '/assets/sounds/casinomusic-IRON.mp3'; // renamed path
  const THRESH   = 0.6, GAP = 1500;
  const sfx = (window.__bagSfx instanceof Audio) ? window.__bagSfx : (window.__bagSfx = new Audio());
  sfx.src = SRC; sfx.preload = 'auto'; sfx.playsInline = true;

  let unlocked=false;
  const unlock = async () => {
    if (unlocked) return;
    try { sfx.muted=true; await sfx.play(); sfx.pause(); sfx.currentTime=0; sfx.muted=false; unlocked=true; } catch(_) {}
  };
  ['pointerdown','touchstart','mousedown','keydown','scroll','wheel'].forEach(t=>{
    addEventListener(t, unlock, {capture:true, passive:true});
  });

  let last=0; const seen=new WeakSet();
  const playIfReady = async () => {
    if (!unlocked) return;
    const now=performance.now(); if (now-last<GAP) return;
    try { sfx.currentTime=0; await sfx.play(); last=now; } catch(_) {}
  };

  try { window.__bagIO && window.__bagIO.disconnect && window.__bagIO.disconnect(); } catch(_){}
  const io = new IntersectionObserver((ents)=>{
    for(const e of ents){
      if(e.isIntersecting && e.intersectionRatio>=THRESH){
        if(!seen.has(e.target)){ seen.add(e.target); playIfReady(); }
      } else { seen.delete(e.target); }
    }
  }, { threshold: THRESH });
  window.__bagIO = io;

  const watch = ()=>{ const el=document.getElementById(IMG_ID); if(el) io.observe(el); };
  watch(); new MutationObserver(watch).observe(document.documentElement,{childList:true,subtree:true});
})();
</script>
</body>
</html>
