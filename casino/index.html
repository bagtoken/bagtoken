<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>$BAG Casino</title>

<style>
  *{box-sizing:border-box}
  :root{
    --gold:#ffd700;--bg:#020703;--panel:#0b1b13;--panel2:#0d2217;
    --muted:#aeb7af;--fg:#f5f7f4;--green:#2fbf6b;
    --line:#173524;--shadow:rgba(0,0,0,.35);
  }
  html,body{margin:0;background:var(--bg);color:var(--fg);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  img{display:block;max-width:100%;height:auto}

  /* Back */
  .backbar{position:sticky;top:0;z-index:999;background:linear-gradient(180deg,#0f1f17,#0e271c);
    border-bottom:1px solid #1b4a2f;box-shadow:0 4px 18px rgba(0,0,0,.35)}
  .backlink{display:inline-block;margin:10px 12px;padding:10px 14px;border-radius:12px;
    color:#08130d;text-decoration:none;font-weight:900;letter-spacing:.2px;
    background:linear-gradient(180deg,#ffe175 0%, #f5c94c 100%);
    box-shadow:0 3px 0 #b08a19;transition:transform .06s ease,box-shadow .2s ease,filter .2s ease}
  .backlink:hover{filter:brightness(1.05)}
  .backlink:active{transform:translateY(1px);box-shadow:0 2px 0 #9a7315}

  .wrap{max-width:1200px;margin:0 auto;padding:18px 16px 32px}
  .top{text-align:center;padding:18px 0 6px}
  .tag{color:var(--muted);font-weight:600;letter-spacing:.04em}
  .tag.gold{color:var(--gold);}
  .tag.gold strong{color:inherit;}

  /* Hero */
  .casino-hero{padding:10px 0 0}
  .casino-hero .poster{margin:0 auto 18px;border-radius:14px;box-shadow:0 8px 28px var(--shadow)}
  @media (min-width:900px){.casino-hero .poster{max-width:900px}}
  @media (max-width:899px){.casino-hero .poster{width:100%;max-width:none;border-radius:0;box-shadow:none}}

  /* Under Construction (centered) */
  .under-construction{
    max-width:900px;
    margin:0 auto 16px;              /* centers it and tucks under the poster */
    text-align:center;
    color:#e9efe9;
    padding:12px 14px;
    border:1px dashed #2b6a48;
    border-radius:12px;
    background:linear-gradient(180deg,var(--panel) 0%, var(--panel2) 100%);
    box-shadow:0 6px 20px var(--shadow);
  }
  .under-construction p{margin:6px 0}

  /* Divider */
  .vault-break{text-align:center;color:var(--gold);font-weight:900;letter-spacing:.12em;
    margin:48px auto 32px;font-size:1rem;opacity:.85;position:relative}
  .vault-break::before,.vault-break::after{
    content:"";display:inline-block;vertical-align:middle;width:60px;height:2px;
    background:linear-gradient(90deg,transparent,var(--gold),transparent);
    margin:0 12px;opacity:.7
  }

  /* Grid */
  .grid{display:grid;gap:18px;margin-top:16px}
  @media (min-width:720px){.grid{grid-template-columns:repeat(3,1fr)}}
  @media (max-width:719px){.grid{grid-template-columns:1fr}}

  .card{position:relative;background:linear-gradient(180deg,var(--panel) 0%, var(--panel2) 100%);
    border:1px solid var(--line);border-radius:16px;box-shadow:0 8px 24px var(--shadow);overflow:hidden}
  .card-img{aspect-ratio:16/9;width:100%;object-fit:cover;background:#0b0b0c}
  .card-body{padding:14px 14px 16px}
  .card h3{margin:0 0 6px;font-size:1.05rem}
  .meta{color:#cfd6cf;font-size:.92rem;margin:0 0 12px}
  .btn{display:inline-block;padding:10px 16px;font-weight:800;text-decoration:none;border-radius:12px;
    color:#08130d;background:linear-gradient(180deg,#ffe175 0%, #f5c94c 100%);
    box-shadow:0 4px 0 #b08a19;transition:transform .06s ease, filter .2s ease, box-shadow .2s ease}
  .btn:hover{filter:brightness(1.05);box-shadow:0 4px 0 #b08a19,0 14px 28px rgba(255,225,117,.22)}
  .btn:active{transform:translateY(1px);box-shadow:0 3px 0 #9a7315}

  /* COMING SOON placeholders */
  .soon-box{display:flex;flex-direction:column;justify-content:center;align-items:center;
    height:100%;aspect-ratio:16/9;background:radial-gradient(circle at center,#0e2419 0%,#08130d 100%);
    border:1px dashed #2b6a48;text-align:center;border-radius:16px;
    box-shadow:inset 0 0 40px rgba(255,215,0,.05)}
  .soon-title{font-size:1.1rem;font-weight:800;color:#f5f7f4;margin-bottom:6px;letter-spacing:.03em}
  .soon-sub{font-family:"Cinzel",serif;font-weight:700;font-size:1.25rem;letter-spacing:.08em;
    color:#ffd700;text-shadow:0 0 8px rgba(255,215,0,.3)}

  /* Floating sound toggle (upper-right) */
  #soundToggle{
    position:fixed;top:10px;right:12px;z-index:2147483647;
    background:rgba(0,0,0,.35);backdrop-filter:saturate(120%) blur(4px);
    border:1px solid #2b6a48;border-radius:12px;padding:8px 10px;
    color:var(--gold);font-size:1.2rem;cursor:pointer;opacity:.9;
    transition:opacity .2s ease, transform .12s ease;
  }
  #soundToggle:hover{opacity:1;transform:scale(1.06)}
  #soundToggle:active{transform:scale(.98)}

  .foot{color:#aab3ab;text-align:center;margin:26px 0 8px;font-size:.9rem}
  .foot a{color:#e0c66f;text-decoration:none;font-weight:700}
</style>
</head>
<body>

<nav class="backbar">
  <a class="backlink" href="/" aria-label="Back to $BAG">‚¨Ö Back to $BAG</a>
</nav>

<!-- üîä Floating speaker -->
<button id="soundToggle" title="Toggle casino ambiance" aria-pressed="false">üîá</button>
<audio id="casinoAmbience" src="/assets/sounds/casino-ambiance.mp3" loop preload="auto"></audio>

<div class="wrap">
  <div class="top">
    <div style="font-size:1.6rem;font-weight:900;letter-spacing:.03em">üíº $BAG CASINO</div>
    <div class="tag">Utility on Chain. Culture on Brand.</div>
    <div class="tag gold" style="margin-top:6px">
      Bet in $XRP or <strong>$BAG</strong> on all games. $XRP bets auto-convert at the live rate; payouts are in <strong>$BAG</strong>.
    </div>
  </div>

  <section class="casino-hero" aria-label="$BAG Casino">
    <img src="/assets/bag-casino-poster.png" alt="$BAG Casino Poster" class="poster">
  </section>

  <!-- üöß Under Construction Banner (centered) -->
  <div class="under-construction">
    <p>üöß <strong>Pardon the Dust ‚Äî We‚Äôre Building the BAG</strong></p>
    <p>The tables are being polished. The dice are loading.</p>
    <p>The vault‚Äôs wiring in progress ‚Äî you‚Äôre early to the floor.</p>
    <p>üé∞ <strong>$BAG Casino coming online piece by piece.</strong></p>
  </div>

  <br>
  <div class="vault-break">ENTER THE FLOOR</div>

  <section aria-label="Games" class="grid">
    <article class="card">
      <img class="card-img" src="/assets/bag-dice.png" alt="$BAG Dice">
      <div class="card-body">
        <h3>üé≤ $BAG Dice</h3>
        <p class="meta">Pass Line. Instant on-ledger payouts in $BAG.</p>
        <a class="btn" href="/casino/dice.html">Play Dice (üößDEMO AVAILABLEüöß)</a>
      </div>
    </article>

    <article class="card">
      <img class="card-img" src="/assets/bag-slots.png" alt="$BAG Slots">
      <div class="card-body">
        <h3>üé∞ $BAG Slots</h3>
        <p class="meta">3√ó3 classic. Manual spin. Multipliers & payouts.</p>
        <a class="btn" href="/casino/slots.html">Play Slots (üößDEMO AVAILABLEüöß)</a>
      </div>
    </article>

    <article class="card">
      <img class="card-img" src="/assets/bag-plinko.png" alt="$BAG Plinko">
      <div class="card-body">
        <h3>üí• $BAG Plinko</h3>
        <p class="meta">Risk ladder. Choose your rows & odds.</p>
        <a class="btn" href="/casino/plinko.html" aria-disabled="true">Play Plinko (üößDEMO AVAILABLEüöß)</a>
      </div>
    </article>

    <article class="card">
      <div class="soon-box">
        <div class="soon-title">üéØ $BAG Roulette</div>
        <div class="soon-sub">COMING&nbsp;SOON</div>
      </div>
    </article>

<article class="card">
  <img class="card-img" src="/assets/bag-poker.jpeg" alt="$BAG Poker">
  <div class="card-body">
    <h3>‚ô†Ô∏è $BAG Poker</h3>
    <p class="meta">5-card draw. Beat the house. Stack the bag.</p>
<div class="soon-sub">COMING&nbsp;SOON</div>  </div>
</article>

       <article class="card">
      <div class="soon-box">
        <div class="soon-title">üÉè $BAG Blackjack</div>
        <div class="soon-sub">COMING&nbsp;SOON</div>
      </div>
    </article>
  </section>

  <footer class="foot">
    ¬© 2025 $BAG Protocol ‚Ä¢ 
    <a href="https://x.com/getthebag_io" target="_blank" rel="noopener">ùïè @getthebag_io</a> ‚Ä¢
    <a href="https://t.me/getthebag_io" target="_blank" rel="noopener">Telegram</a>
  </footer>
</div>

<!-- üîä Sound toggle with more sensitive first-tap unlock -->
<script>
(function(){
  const btn = document.getElementById('soundToggle');
  const audio = document.getElementById('casinoAmbience');
  const KEY = 'bag_sound_pref';
  let playing = false;

  function setIcon(){
    btn.textContent = playing ? 'üîä' : 'üîá';
    btn.setAttribute('aria-pressed', playing);
  }

  function playAudio(){
    audio.volume = 0.35;
    return audio.play().then(()=>{
      playing = true;
      setIcon();
      localStorage.setItem(KEY,'on');
      removeGestureUnlock();
    }).catch((e)=>{
      playing = false;
      setIcon();
      return Promise.reject(e);
    });
  }

  function pauseAudio(){
    audio.pause();
    playing = false;
    setIcon();
    localStorage.setItem(KEY,'off');
    armGestureUnlock();
  }

  btn.addEventListener('click',()=> playing ? pauseAudio() : playAudio().catch(()=>{}));

  // --- MORE SENSITIVE GESTURE UNLOCK ---
  const GESTURES = ['pointerdown','touchstart','mousedown','keydown'];
  let armed = false;

  function gestureHandler(){
    const pref = localStorage.getItem(KEY);
    if (pref !== 'off' && !playing){
      playAudio().catch(()=>{ /* stay armed until a successful play */ });
    }
  }
  function armGestureUnlock(){
    if (armed) return;
    armed = true;
    GESTURES.forEach(t => document.addEventListener(t, gestureHandler, {capture:true, passive:true}));
  }
  function removeGestureUnlock(){
    if (!armed) return;
    armed = false;
    GESTURES.forEach(t => document.removeEventListener(t, gestureHandler, {capture:true}));
  }

  window.addEventListener('focus', () => {
    const pref = localStorage.getItem(KEY);
    if (pref !== 'off' && !playing) playAudio().catch(()=>{});
  });
  document.addEventListener('visibilitychange', () => {
    if (!document.hidden){
      const pref = localStorage.getItem(KEY);
      if (pref !== 'off' && !playing) playAudio().catch(()=>{});
    }
  });

  const pref = localStorage.getItem(KEY);
  if (pref === 'off'){
    playing = false;
  } else {
    armGestureUnlock();
  }
  setIcon();
})();
</script>

</body>
</html>
