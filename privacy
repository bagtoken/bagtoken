<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Privacy — $BAG Casino</title>
<style>
  :root{
    --gold:#ffd700; --bg:#020703; --panel:#0b1b13; --panel2:#0d2217;
    --fg:#f5f7f4; --muted:#aeb7af; --line:#173524; --accent:#2fbf6b;
  }
  html,body{margin:0;background:var(--bg);color:var(--fg);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  a{color:var(--gold);text-decoration:none}
  a:hover{text-decoration:underline}
  .wrap{max-width:900px;margin:0 auto;padding:24px 16px 48px}
  h1{font-size:1.8rem;margin:0 0 8px}
  .sub{color:var(--muted);margin:0 0 22px}
  .card{background:linear-gradient(180deg,var(--panel),var(--panel2));
    border:1px solid var(--line);border-radius:16px;padding:16px;margin:14px 0;box-shadow:0 8px 24px rgba(0,0,0,.35)}
  .kvs{display:grid;gap:10px}
  .kvs div{display:flex;gap:10px;flex-wrap:wrap}
  .toggle{display:flex;align-items:center;gap:10px}
  .toggle input{width:18px;height:18px}
  .btn{cursor:pointer;display:inline-block;border:1px solid #245a3b;border-radius:12px;
    background:#173524;color:#e6f3ea;padding:10px 14px;font-weight:800}
  .btn.warn{border-color:#6a2727;background:#2a1414}
  .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}
  .small{font-size:.92rem;color:var(--muted)}
  .list{margin:8px 0 0 18px}
  .bar{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:14px 0 0}
  .footer{margin-top:24px;color:var(--muted);text-align:center}
</style>
</head>
<body>
<div class="wrap">
  <h1>Privacy at $BAG Casino</h1>
  <p class="sub">Crypto-only entertainment. No fiat. No ad trackers. We store only what the site needs to function on <span class="mono">localStorage</span> in your browser.</p>

  <div class="card">
    <h2 style="margin-top:0">What we store locally</h2>
    <div class="kvs small">
      <div><strong class="mono">bag_age_verified_v1</strong> — Age-gate result (so we don’t nag you again)</div>
      <div><strong class="mono">bag_geo_override_v1</strong> — Developer bypass for region gating (optional)</div>
      <div><strong class="mono">bag_sound_pref</strong> — Ambience preference (<span class="mono">on</span>/<span class="mono">off</span>)</div>
      <div><strong class="mono">__bagSession/*</strong> — Session helper keys from the cashier (wallet/session UX)</div>
    </div>
    <p class="small">These never leave your device unless your wallet or browser sends them (e.g., when you connect a wallet). We do not sell or rent data.</p>
  </div>

  <div class="card">
    <h2 style="margin-top:0">Your controls</h2>
    <label class="toggle"><input type="checkbox" id="optAge" /> Remember age-gate on this device</label>
    <label class="toggle"><input type="checkbox" id="optSound" /> Remember ambience sound preference</label>
    <label class="toggle"><input type="checkbox" id="optGeo" /> Allow developer geo bypass (<span class="mono">bag_geo_override_v1="allow"</span>)</label>

    <div class="bar">
      <button class="btn" id="btnSave">Save choices</button>
      <button class="btn warn" id="btnReset">Reset all local data</button>
    </div>

    <p class="small">Reset will clear the keys listed above for this site only and reload the page.</p>
  </div>

  <div class="card">
    <h2 style="margin-top:0">Data we may process</h2>
    <ul class="list small">
      <li>Wallet addresses you explicitly connect at the cashier (<span class="mono">xrpl</span>).</li>
      <li>On-ledger transactions you initiate (public by design).</li>
      <li>Support messages you send us via <a href="https://github.com/bagtoken/bagtoken/blob/d455c713576d48c23eed8bffea75ab51bf4d7203/support" target="_blank" rel="noopener">Support</a>.</li>
    </ul>
  </div>

  <div class="card">
    <h2 style="margin-top:0">Third-party links</h2>
    <p class="small">We link to resources like NCPG, Gamblers Anonymous, GamCare, and BeGambleAware. Their privacy practices apply on their sites.</p>
  </div>

  <div class="card">
    <h2 style="margin-top:0">Contact</h2>
    <p class="small">Questions? See <a href="https://github.com/bagtoken/bagtoken/blob/d455c713576d48c23eed8bffea75ab51bf4d7203/support" target="_blank" rel="noopener">Support</a> or open an issue in the <a href="https://github.com/bagtoken/bagtoken" target="_blank" rel="noopener">BAG repo</a>.</p>
  </div>

  <p class="footer small">Last updated: <span id="lastUpdated"></span></p>
</div>

<script>
(function(){
  // Keys used by the site
  const KEY_AGE = 'bag_age_verified_v1';
  const KEY_SOUND = 'bag_sound_pref';
  const KEY_GEO = 'bag_geo_override_v1'; // when set to "allow", gate is bypassed (dev)

  const optAge = document.getElementById('optAge');
  const optSound = document.getElementById('optSound');
  const optGeo = document.getElementById('optGeo');
  const btnSave = document.getElementById('btnSave');
  const btnReset = document.getElementById('btnReset');

  // Initialize toggles from current state
  optAge.checked   = localStorage.getItem(KEY_AGE) === '1';
  optSound.checked = localStorage.getItem(KEY_SOUND) === 'on';
  optGeo.checked   = localStorage.getItem(KEY_GEO) === 'allow';

  btnSave.addEventListener('click', ()=>{
    // Age gate memory
    if(optAge.checked){
      localStorage.setItem(KEY_AGE,'1');
    }else{
      localStorage.removeItem(KEY_AGE);
    }
    // Sound memory
    if(optSound.checked){
      localStorage.setItem(KEY_SOUND,'on');
    }else{
      localStorage.setItem(KEY_SOUND,'off');
    }
    // Geo bypass (dev)
    if(optGeo.checked){
      localStorage.setItem(KEY_GEO,'allow');
    }else{
      localStorage.removeItem(KEY_GEO);
    }
    alert('Privacy choices saved on this device.');
  });

  btnReset.addEventListener('click', ()=>{
    if(!confirm('Clear local $BAG Casino data on this device?')){
      return;
    }
    // Clear known keys
    localStorage.removeItem(KEY_AGE);
    localStorage.removeItem(KEY_SOUND);
    localStorage.removeItem(KEY_GEO);
    // Optional: clear any __bagSession* helper keys
    Object.keys(localStorage).forEach(k=>{
      if(k.startsWith('__bagSession')) localStorage.removeItem(k);
    });
    location.reload();
  });

  // Stamp updated date (you can hardcode this if you prefer)
  document.getElementById('lastUpdated').textContent = new Date().toISOString().slice(0,10);
})();
</script>
</body>
</html>
